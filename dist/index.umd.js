!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(n="undefined"!=typeof globalThis?globalThis:n||self).ColorTools=r()}(this,function(){"use strict";function e(r,n){var t,e=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,t)),e}function t(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?e(Object(t),!0).forEach(function(n){a(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):e(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function a(n,r,t){r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t}function c(n,r,t){var e=Math.min(n,r,t),a=Math.max(n,r,t),c=a-e,s=0===a?0:c/a*100,e=a===e?0:n===a?(r-t)/c:r===a?2+(t-n)/c:4+(n-r)/c;return(e=Math.min(60*e,360))<0&&(e+=360),{h:y(e,360),s:y(s,100),v:y(a/255*1e3/10,100)}}function s(n,r,t){var n=O(n)/255,r=O(r)/255,t=O(t)/255,e=Math.min(n,r,t),a=Math.max(n,r,t),c=a-e,t=a===e?0:n===a?(r-t)/c:r===a?2+(t-n)/c:4+(n-r)/c,n=((t=Math.min(60*t,360))<0&&(t+=360),(e+a)/2),r=100*(a===e?0:n<=.5?c/(a+e):c/(2-a-e));return{h:y(t,360),s:y(r,100),l:y(100*n,100)}}function r(n){return null==n?1:y(100*_(n)/255)/100}function o(){return w(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/,/g,", ").replace(", .",", 0.")}function u(n){return/a$/.test(C(n))}function l(n){if(!n.startsWith("#")||n.length<4)console.error("".concat(n," 不是正确的十六进制颜色值！"));else switch(n.length){case 4:return"".concat(P(n),"ff");case 5:return"".concat(P(n));case 6:return"#".concat(P(n.slice(1,4))).concat(n.slice(4));case 7:return"".concat(n,"ff");case 8:return"".concat(n.slice(0,7)).concat(P(n.slice(7)));case 9:return n;default:return n.slice(0,9)}}function i(n){var r,t;if(D(n))return n=$(n),r=(n=H(A(n))).r,t=n.g,n=n.b,y(.299*r+.587*t+.114*n)}function h(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:127.5,n=i(n);if(null!=n)return n<r}var n,g="#ffffffff",f={rgb:"rgb",hex:"hex",hsv:"hsv",hsl:"hsl",rgba:"rgba",hexa:"hexa",hsva:"hsva",hsla:"hsla",rgb_a:"rgb_a",hex_a:"hex_a",hsv_a:"hsv_a",hsl_a:"hsl_a"},b=(a(n={},f.rgb_a,/^rgba?\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*(,\s*(0?\.\d+|1)\s*)?\)$/gi),a(n,f.hex_a,/^#[0-9a-fA-F]{3,8}$/g),a(n,f.hsv_a,/^hsva?\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*(,\s*(0?\.\d+|1)\s*)?\)$/gi),a(n,f.hsl_a,/^hsla?\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*(,\s*(0?\.\d+|1)\s*)?\)$/gi),a(n,f.rgba,/^rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*(0?\.\d+|1)\s*\)$/gi),a(n,f.hexa,/^#[0-9a-fA-F]{8}$/g),a(n,f.hsva,/^hsva\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*,\s*(0?\.\d+|1)\s*\)$/gi),a(n,f.hsla,/^hsla\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*,\s*(0?\.\d+|1)\s*\)$/gi),a(n,f.rgb,/^rgb\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\)$/gi),a(n,f.hex,/^#[0-9a-fA-F]{6}$/g),a(n,f.hsv,/^hsv\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*\)$/gi),a(n,f.hsl,/^hsl\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*\)$/gi),n),d=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g,n=H(n),t=null!=(t=n.a)?t:1,r=H(r);return{r:Math.round(n.r*t+r.r*(1-t)),g:Math.round(n.g*t+r.g*(1-t)),b:Math.round(n.b*t+r.b*(1-t)),a:1}},v=function(n){var r=w(n).replace(/^rgba?/gi,"").replace(/[()]/g,"").split(",").map(function(n){return Number(n)});return{r:O(r[0]),g:O(r[1]),b:O(r[2]),a:u(n)?O(null!=(n=r[3])?n:1,1):1}},p=function(n){n=null!=(n=l(w(n)))?n:"";return{r:_(n.slice(1,3)),g:_(n.slice(3,5)),b:_(n.slice(5,7)),a:r(n.slice(7,9))}},x=function(n){var r=w(n).replace(/(^hsla?)|[()%]/gi,"").split(",").map(function(n){return Number(n)}),n=u(n)?O(null!=(n=r[3])?n:1,1):1;return t(t({},function(n,r,t){var e=O(n,360)/360,a=O(r,100)/100,c=O(t,100)/100;if(0===a)return{r:255*c,g:255*c,b:255*c};for(var c=2*c-(a=c<.5?c*(1+a):c+a-c*a),s=[0,0,0],o=0;o<s.length;o++){var u=(u=e+1/3*-(o-1))<0?u+1:1<u?u-1:u;s[o]=y(255*(u=6*u<1?c+6*(a-c)*u:2*u<1?a:3*u<2?c+(a-c)*(2/3-u)*6:c))}return{r:s[0],g:s[1],b:s[2]}}(O(r[0],360),O(r[1],100),O(r[2],100))),{},{a:n})},m=function(n){var r=w(n).replace(/(^hsva?)|[()%]/gi,"").split(",").map(function(n){return Number(n)}),n=u(n)?O(null!=(n=r[3])?n:1,1):1;return t(t({},function(n,r,t){n/=60,r/=100,t/=100;var e=Math.floor(n)%6,a=n-Math.floor(n),c=(n=255*t*(1-r),(1-r*a)*t*255);switch(r=255*t*(1-r*(1-a)),t*=255,e){case 0:return{r:y(t),g:y(r),b:y(n)};case 1:return{r:y(c),g:y(t),b:y(n)};case 2:return{r:y(n),g:y(t),b:y(r)};case 3:return{r:y(n),g:y(c),b:y(t)};case 4:return{r:y(r),g:y(n),b:y(t)};default:return{r:y(t),g:y(n),b:y(c)}}}(O(r[0],360),O(r[1],100),O(r[2],100))),{},{a:n})},M=function(n){var r=b[1<arguments.length&&void 0!==arguments[1]?arguments[1]:""];return!!r&&(r.lastIndex=0,r.test(n))},O=function(){return Math.max(0,Math.min(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255))},y=function(n){return Math.round(O(n,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255))},_=function(n){return null==n?0:parseInt("0x".concat(n))},j=function(n){n=Number(Math.min(n,255)).toString(16);return 1===n.length?"0".concat(n):n},$=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toLowerCase()},w=function(){return $(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/\s+/g,"")},C=function(n){var r;return n.length<4?"":(r=$(n),M(r,f.rgb_a)?r.startsWith(f.rgba)?f.rgba:f.rgb:M(n,f.hex_a)?4===n.length||7===n.length?f.hex:f.hexa:M(r,f.hsv_a)?r.startsWith(f.hsva)?f.hsva:f.hsv:M(r,f.hsl_a)?r.startsWith(f.hsla)?f.hsla:f.hsl:"")},P=function(n){return n.replace(/[0-9a-fA-F]/g,function(n){return n+n})},H=function(n){switch(C(n)){case f.rgb:case f.rgba:return v(n);case f.hex:case f.hexa:return p(n);case f.hsl:case f.hsla:return x(n);case f.hsv:case f.hsva:return m(n);default:return v(n)}},D=function(n,r){n=C(n);return r?n===r:!!n},A=function(n){var r,t,e,a;return M($(n),f.rgb)||!D(n)?o(n):(n=$(n),e=(t=u(n)?(r=H(r=n),t=r.r,e=r.g,a=r.b,r=r.a,d("rgba(".concat(t,", ").concat(e,", ").concat(a,", ").concat(null!=r?r:1,")"),g)):H(n)).r,a=t.g,r=t.b,"rgb(".concat(e,", ").concat(a,", ").concat(r,")"))},F={toRgb:A,toHex:function(n){var r,t;return M($(n),f.hex)||!D(n)?o(n):(n=$(n),r=(n=H(A(n))).r,t=n.g,n=n.b,"#".concat(j(r)).concat(j(t)).concat(j(n)))},toHsv:function(n){var r,t;return M($(n),f.hsv)||!D(n)?o(n):(n=$(n),t=(n=H(A(n))).r,r=n.g,n=n.b,r=(t=c(t,r,n)).h,n=t.s,t=t.v,"hsv(".concat(r,", ").concat(Math.round(n),"%, ").concat(Math.round(t),"%)"))},toHsl:function(n){var r,t;return M($(n),f.hsl)||!D(n)?o(n):(n=$(n),t=(n=H(A(n))).r,r=n.g,n=n.b,r=(t=s(t,r,n)).h,n=t.s,t=t.l,"hsl(".concat(r,", ").concat(n,"%, ").concat(t,"%)"))},toRgba:function(n,r){if(M($(n),f.rgba)&&null==r||!D(n))return o(n);n=$(n);var n=H(null==r?n:A(n)),t=n.r,e=n.g,a=n.b,n=n.a;return"rgba(".concat(t,", ").concat(e,", ").concat(a,", ").concat(null!=(t=null!=r?r:n)?t:1,")")},toHexa:function(n,r){if(M($(n),f.hexa)&&null==r||!D(n))return o(n);n=$(n);var n=H(null==r?n:A(n)),t=n.r,e=n.g,a=n.b,n=n.a;return"#".concat(j(t)).concat(j(e)).concat(j(a)).concat((e=null!=(t=null!=r?r:n)?t:1,j(y(255*e))))},toHsva:function(n,r){if(M($(n),f.hsva)&&null==r||!D(n))return o(n);n=$(n);var n=H(null==r?n:A(n)),t=n.r,e=n.g,a=n.b,n=n.a,t=c(t,e,a),e=t.h,a=t.s,t=t.v;return"hsva(".concat(e,", ").concat(Math.round(a),"%, ").concat(Math.round(t),"%, ").concat(null!=(e=null!=r?r:n)?e:1,")")},toHsla:function(n,r){if(M($(n),f.hsla)&&null==r||!D(n))return o(n);n=$(n);var n=H(null==r?n:A(n)),t=n.r,e=n.g,a=n.b,n=n.a,t=s(t,e,a),e=t.h,a=t.s,t=t.l;return"hsla(".concat(e,", ").concat(a,"%, ").concat(t,"%, ").concat(null!=(e=null!=r?r:n)?e:1,")")},isColor:D,rgbaToRgb:function n(r){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g;if(!D(r,f.rgba))return r;r=$(r);var r=d(r,u(t)?n(t):t),t=r.r,e=r.g,r=r.b;return"rgb(".concat(t,", ").concat(e,", ").concat(r,")")},darkColor:h,lightColor:function(n,r){if(C(n))return!h(n,r)},getColorDepth:i};return t(t({version:"1.0.6"},F),{},{convert:function(n,r){return F.isColor(n)&&(r="to".concat(r[0].toUpperCase()).concat(r.slice(1).toLowerCase()),"function"==typeof(r=F[r]))?r(n):n}})});
//# sourceMappingURL=index.umd.js.map
