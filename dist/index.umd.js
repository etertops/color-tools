!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(n="undefined"!=typeof globalThis?globalThis:n||self).ColorTools=r()}(this,function(){"use strict";function e(r,n){var t,e=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,t)),e}function t(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?e(Object(t),!0).forEach(function(n){a(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):e(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function a(n,r,t){r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t}function c(n,r,t){var e=Math.min(n,r,t),a=Math.max(n,r,t),c=a-e,s=0===a?0:c/a*100,e=a===e?0:n===a?(r-t)/c:r===a?2+(t-n)/c:4+(n-r)/c;return(e=Math.min(60*e,360))<0&&(e+=360),{h:j(e,360),s:j(s,100),v:j(a/255*1e3/10,100)}}function s(n,r,t){var n=y(n)/255,r=y(r)/255,t=y(t)/255,e=Math.min(n,r,t),a=Math.max(n,r,t),c=a-e,t=a===e?0:n===a?(r-t)/c:r===a?2+(t-n)/c:4+(n-r)/c,n=((t=Math.min(60*t,360))<0&&(t+=360),(e+a)/2),r=100*(a===e?0:n<=.5?c/(a+e):c/(2-a-e));return{h:j(t,360),s:j(r,100),l:j(100*n,100)}}function r(n){return null==n?1:j(100*$(n)/255)/100}function o(){return C(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/,/g,", ").replace(", .",", 0.")}function u(n){return/a$/.test(H(n))}function l(n){if(!n.startsWith("#")||n.length<4)console.error("".concat(n," 不是正确的十六进制颜色值！"));else switch(n.length){case 4:return"".concat(D(n),"ff");case 5:return"".concat(D(n));case 6:return"#".concat(D(n.slice(1,4))).concat(n.slice(4));case 7:return"".concat(n,"ff");case 8:return"".concat(n.slice(0,7)).concat(D(n.slice(7)));case 9:return n;default:return n.slice(0,9)}}function i(n,r){return n=H(n),r?n===r:!!n}function h(n){var r,t,e,a;return O(P(n),d.rgb)||!i(n)?o(n):(n=P(n),e=(t=u(n)?(r=A(r=n),t=r.r,e=r.g,a=r.b,r=r.a,p("rgba(".concat(t,", ").concat(e,", ").concat(a,", ").concat(null!=r?r:1,")"),b)):A(n)).r,a=t.g,r=t.b,"rgb(".concat(e,", ").concat(a,", ").concat(r,")"))}function f(n){var r,t;if(i(n))return n=P(n),r=(n=A(h(n))).r,t=n.g,n=n.b,j(.299*r+.587*t+.114*n)}function g(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:127.5,n=f(n);if(null!=n)return n<r}var n,b="#ffffffff",d={rgb:"rgb",hex:"hex",hsv:"hsv",hsl:"hsl",rgba:"rgba",hexa:"hexa",hsva:"hsva",hsla:"hsla",rgb_a:"rgb_a",hex_a:"hex_a",hsv_a:"hsv_a",hsl_a:"hsl_a"},v=(a(n={},d.rgb_a,/^rgba?\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*(,\s*(0?\.\d+|1)\s*)?\)$/gi),a(n,d.hex_a,/^#[0-9a-fA-F]{3,8}$/g),a(n,d.hsv_a,/^hsva?\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*(,\s*(0?\.\d+|1)\s*)?\)$/gi),a(n,d.hsl_a,/^hsla?\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*(,\s*(0?\.\d+|1)\s*)?\)$/gi),a(n,d.rgba,/^rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*(0?\.\d+|1)\s*\)$/gi),a(n,d.hexa,/^#[0-9a-fA-F]{8}$/g),a(n,d.hsva,/^hsva\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*,\s*(0?\.\d+|1)\s*\)$/gi),a(n,d.hsla,/^hsla\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*,\s*(0?\.\d+|1)\s*\)$/gi),a(n,d.rgb,/^rgb\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\)$/gi),a(n,d.hex,/^#[0-9a-fA-F]{6}$/g),a(n,d.hsv,/^hsv\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*\)$/gi),a(n,d.hsl,/^hsl\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*\)$/gi),n),p=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:b,n=A(n),t=null!=(t=n.a)?t:1,r=A(r);return{r:Math.round(n.r*t+r.r*(1-t)),g:Math.round(n.g*t+r.g*(1-t)),b:Math.round(n.b*t+r.b*(1-t)),a:1}},x=function(n){var r=C(n).replace(/^rgba?/gi,"").replace(/[()]/g,"").split(",").map(function(n){return Number(n)});return{r:y(r[0]),g:y(r[1]),b:y(r[2]),a:u(n)?y(null!=(n=r[3])?n:1,1):1}},m=function(n){n=null!=(n=l(C(n)))?n:"";return{r:$(n.slice(1,3)),g:$(n.slice(3,5)),b:$(n.slice(5,7)),a:r(n.slice(7,9))}},_=function(n){var r=C(n).replace(/(^hsla?)|[()%]/gi,"").split(",").map(function(n){return Number(n)}),n=u(n)?y(null!=(n=r[3])?n:1,1):1;return t(t({},function(n,r,t){var e=y(n,360)/360,a=y(r,100)/100,c=y(t,100)/100;if(0===a)return{r:255*c,g:255*c,b:255*c};for(var c=2*c-(a=c<.5?c*(1+a):c+a-c*a),s=[0,0,0],o=0;o<s.length;o++){var u=(u=e+1/3*-(o-1))<0?u+1:1<u?u-1:u;s[o]=j(255*(u=6*u<1?c+6*(a-c)*u:2*u<1?a:3*u<2?c+(a-c)*(2/3-u)*6:c))}return{r:s[0],g:s[1],b:s[2]}}(y(r[0],360),y(r[1],100),y(r[2],100))),{},{a:n})},M=function(n){var r=C(n).replace(/(^hsva?)|[()%]/gi,"").split(",").map(function(n){return Number(n)}),n=u(n)?y(null!=(n=r[3])?n:1,1):1;return t(t({},function(n,r,t){n/=60,r/=100,t/=100;var e=Math.floor(n)%6,a=n-Math.floor(n),c=(n=255*t*(1-r),(1-r*a)*t*255);switch(r=255*t*(1-r*(1-a)),t*=255,e){case 0:return{r:j(t),g:j(r),b:j(n)};case 1:return{r:j(c),g:j(t),b:j(n)};case 2:return{r:j(n),g:j(t),b:j(r)};case 3:return{r:j(n),g:j(c),b:j(t)};case 4:return{r:j(r),g:j(n),b:j(t)};default:return{r:j(t),g:j(n),b:j(c)}}}(y(r[0],360),y(r[1],100),y(r[2],100))),{},{a:n})},O=function(n){var r=v[1<arguments.length&&void 0!==arguments[1]?arguments[1]:""];return!!r&&(r.lastIndex=0,r.test(n))},y=function(){return Math.max(0,Math.min(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255))},j=function(n){return Math.round(y(n,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255))},$=function(n){return null==n?0:parseInt("0x".concat(n))},w=function(n){n=Number(Math.min(n,255)).toString(16);return 1===n.length?"0".concat(n):n},P=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toLowerCase()},C=function(){return P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/\s+/g,"")},H=function(n){var r;return n.length<4?"":(r=P(n),O(r,d.rgb_a)?r.startsWith(d.rgba)?d.rgba:d.rgb:O(n,d.hex_a)?4===n.length||7===n.length?d.hex:d.hexa:O(r,d.hsv_a)?r.startsWith(d.hsva)?d.hsva:d.hsv:O(r,d.hsl_a)?r.startsWith(d.hsla)?d.hsla:d.hsl:"")},D=function(n){return n.replace(/[0-9a-fA-F]/g,function(n){return n+n})},A=function(n){switch(H(n)){case d.rgb:case d.rgba:return x(n);case d.hex:case d.hexa:return m(n);case d.hsl:case d.hsla:return _(n);case d.hsv:case d.hsva:return M(n);default:return x(n)}},F=Object.freeze({__proto__:null,isColor:i,rgbaToRgb:function n(r){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:b;if(!i(r,d.rgba))return r;r=P(r);var r=p(r,u(t)?n(t):t),t=r.r,e=r.g,r=r.b;return"rgb(".concat(t,", ").concat(e,", ").concat(r,")")},toRgb:h,toRgba:function(n,r){if(O(P(n),d.rgba)&&null==r||!i(n))return o(n);n=P(n);var n=A(null==r?n:h(n)),t=n.r,e=n.g,a=n.b,n=n.a;return"rgba(".concat(t,", ").concat(e,", ").concat(a,", ").concat(null!=(t=null!=r?r:n)?t:1,")")},toHex:function(n){var r,t;return O(P(n),d.hex)||!i(n)?o(n):(n=P(n),r=(n=A(h(n))).r,t=n.g,n=n.b,"#".concat(w(r)).concat(w(t)).concat(w(n)))},toHexa:function(n,r){if(O(P(n),d.hexa)&&null==r||!i(n))return o(n);n=P(n);var n=A(null==r?n:h(n)),t=n.r,e=n.g,a=n.b,n=n.a;return"#".concat(w(t)).concat(w(e)).concat(w(a)).concat((e=null!=(t=null!=r?r:n)?t:1,w(j(255*e))))},toHsv:function(n){var r,t;return O(P(n),d.hsv)||!i(n)?o(n):(n=P(n),t=(n=A(h(n))).r,r=n.g,n=n.b,r=(t=c(t,r,n)).h,n=t.s,t=t.v,"hsv(".concat(r,", ").concat(Math.round(n),"%, ").concat(Math.round(t),"%)"))},toHsva:function(n,r){if(O(P(n),d.hsva)&&null==r||!i(n))return o(n);n=P(n);var n=A(null==r?n:h(n)),t=n.r,e=n.g,a=n.b,n=n.a,t=c(t,e,a),e=t.h,a=t.s,t=t.v;return"hsva(".concat(e,", ").concat(Math.round(a),"%, ").concat(Math.round(t),"%, ").concat(null!=(e=null!=r?r:n)?e:1,")")},toHsl:function(n){var r,t;return O(P(n),d.hsl)||!i(n)?o(n):(n=P(n),t=(n=A(h(n))).r,r=n.g,n=n.b,r=(t=s(t,r,n)).h,n=t.s,t=t.l,"hsl(".concat(r,", ").concat(n,"%, ").concat(t,"%)"))},toHsla:function(n,r){if(O(P(n),d.hsla)&&null==r||!i(n))return o(n);n=P(n);var n=A(null==r?n:h(n)),t=n.r,e=n.g,a=n.b,n=n.a,t=s(t,e,a),e=t.h,a=t.s,t=t.l;return"hsla(".concat(e,", ").concat(a,"%, ").concat(t,"%, ").concat(null!=(e=null!=r?r:n)?e:1,")")},getColorDepth:f,darkColor:g,lightColor:function(n,r){if(H(n))return!g(n,r)}});return t(t({version:"1.0.10"},F),{},{convert:function(n,r){return i(n)&&(r="to".concat(r[0].toUpperCase()).concat(r.slice(1).toLowerCase()),"function"==typeof(r=F[r]))?r(n):n}})});
//# sourceMappingURL=index.umd.js.map
